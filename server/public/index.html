<!DOCTYPE html>
<html lang="ru" ng-app="app">
<head>
    <meta charset="UTF-8">
    <title>LinuxQuestions - живой форум про Линукс</title>
<link rel="stylesheet" href="/dist/c/main.1.css" type="text/css" target="_self">
<script src="/dist/j/main.1.js" type="application/javascript"></script>
</head>
<body data-ng-controller="MainCtrl">
    <div class="container flex-column" ng-cloak="" ng-class="{websocketAlive: websocketAlive, loggedIn: user}">
        <div class="header flex-row">
            <div class="logo"><a href="/">LinuxQuestions.ru</a></div>
            <div class="top-bar flex-row">
                <div class="slogan">Живой <i>ф</i>орум о свободных программах и операционных системах</div>
                <div class="user flex-row">
                    <div ng-if="user" class="flex-row">
                        <div class="avatar"><img ng-src="{{user.picture}}" alt="" class="responsive avatar"></div>
                        <div class="small">
                            <div class="name">{{user.name}}</div>
                            <div class="manage"><small><a href="/users/{{user.slug}}" >Профиль</a> <a href="/" ng-click="logout()">Выйти</a></small></div>
                        </div>
                    </div>
                    <div ng-if="!user">
                        <a href="/" class="button">Присоединиться</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="body flex-row">
            <div class="categories" data-ng-controller="CategoriesCtrl">
                <div class="menu">
                    <ul class="menu">
                        <li ng-repeat="item in categories" ng-class="{active: item.active}"><a href="/{{item.slug}}">{{item.name}}</a></li>
                    </ul>
                    <a href="/ask" class="button" ng-show="user">Спросить</a>

                </div>
                <div class="settings" ng-show="user">
                    <a href="/settings" ><i class="fa fa-cog" aria-hidden="true" ></i> Настройки</a>
                </div>
            </div>
            <div class="topics-panel" data-ng-controller="TopicListCtrl">
                <div class="topics" id="topics">
                    <div class="topic flex-row" ng-class="{active: message.active}" ng-repeat="message in messages|  unique:'_id' | orderBy:'-updated'">
                        <div class="topic-status">
                            <div class="counter" ng-show="message.updates">{{message.updates}}</div>
                        </div>
                        <div class="topic-info">
                            <a href="/{{ message.category.slug }}/{{ message.slug }}">
                                {{message.title}}
                            </a>
                        </div>
                    </div>
                </div>
                <div class="topics-switch" ng-show="user">
                    <a href="" ng-click="newTopics()" ng-class="{active: topicSwitch == 'newTopics'}"><i class="fa fa-newspaper-o" aria-hidden="true" title="Новые вопросы"></i></a>
                    <a href="" ng-click="recentlyViewed()" ng-class="{active: topicSwitch == 'recentlyViewed'}"><i class="fa fa-history" aria-hidden="true" title="Недавно просмотренные"></i></a>
                    <a href="" ng-click="participated()" ng-class="{active: topicSwitch == 'participated'}"><i class="fa fa-comments" aria-hidden="true" title="Поучаствованные"></i></a>
                    <a href="" ng-click="bookmarks()" ng-class="{active: topicSwitch == 'bookmarks'}"><i class="fa fa-bookmark" aria-hidden="true" title="Избранное"></i></a>
                </div>
            </div>

            <div class="view-panel flex-row" ng-view="">
                <p>Привет!</p>
            </div>
        </div>
        <div class="connecting " ng-hide="websocketAlive">
            <div class="flex-column center">
                <div>живая конференция</div>
                <h1>LinuxQuestions.ru</h1>
                <div>Только вместе мы сделаем этот мир лучше.</div>
                <div class="text-right"><small>подключаемся...</small></div>
            </div>
        </div>
    </div>
</body>
</html>
